# 대화 요약: 스냅 피드백 구현

**날짜:** 2025년 10월 23일

## 1. 초기 목표: 시각적 스냅 표시기

*   **사용자 요청:** Blender의 기본 동작과 유사하게 스냅 지점에 그래픽 표시기(예: 원 또는 사각형)를 추가합니다.
*   **나의 초기 접근 방식:**
    1.  최신 `gpu` 모듈을 사용하여 그리기 콜백을 구현합니다.
    2.  3D 뷰에 오버레이하기 위해 `POST_PIXEL` 그리기 핸들러에 등록합니다.

## 2. 디버깅 과정

*   **문제:** 기술적으로 코드가 정확함에도 불구하고 사용자가 그래픽 표시기가 보이지 않는다고 보고했습니다.
*   **문제 해결 단계:**
    1.  **코드 검토:** `gpu` 그리기 코드 구현을 확인했습니다.
    2.  **대체 방법 (`bgl`):** 사용자의 시스템에서 `gpu` 모듈 문제를 배제하기 위해 더 이상 사용되지 않는 이전 `bgl` 모듈로 전환했습니다. 이 역시 가시적인 결과를 내지 못했습니다.
    3.  **하드코딩 테스트:** 그리기 핸들러가 전혀 호출되지 않는지 확인하기 위해 화면 중앙에 크고 정적인 노란색 사각형을 그리는 "hello world" 테스트를 구현했습니다. 사용자는 이 역시 보이지 않는다고 확인했습니다.

*   **결론:** 이 문제는 사용자 특정 환경에서 그리기 핸들러 실행과 관련된 근본적인 문제일 가능성이 높으며, 이 작업에 그래픽 오버레이를 신뢰할 수 없게 만듭니다.

## 3. 해결책: 마우스 커서 변경

*   **사용자 제안:** 그래픽 오버레이 대신 스냅이 활성화될 때 마우스 커서 모양을 변경합니다.
*   **구현:**
    1.  이전의 모든 그리기 핸들러 코드(`gpu`, `bgl`, `_draw_callback_px` 등)를 제거했습니다.
    2.  `context.window.cursor_set()`을 사용하도록 연산자의 `modal()` 메서드를 수정했습니다.
    3.  커서를 기본적으로 `'CROSSHAIR'`로 설정했습니다.
    4.  스냅 대상이 감지되면(`_snap_state.target_vert`가 `None`이 아님) 커서를 `'HAND'`로 변경합니다.
    5.  연산자가 완료되면 커서가 `'DEFAULT'`로 재설정되도록 했습니다.

## 4. 최종 결과

*   사용자는 이제 마우스 커서가 성공적으로 변경되어 스냅 상태에 대한 명확하고 신뢰할 수 있는 피드백을 제공함을 확인했습니다.
